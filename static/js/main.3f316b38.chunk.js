(window.webpackJsonpnewtodo=window.webpackJsonpnewtodo||[]).push([[0],{203:function(e,t,o){e.exports=o(396)},208:function(e,t,o){},396:function(e,t,o){"use strict";o.r(t);var n=o(0),r=o.n(n),a=o(200),i=o.n(a),s=(o(208),o(19)),c=o(20),d=o(24),u=o(21),l=o(23),p=o(22),f=o(11),h=o(12),b=o(80),m=o(55),O=o.n(m),v=(o(390),o(392),{apiKey:"AIzaSyDN10evg-Zw2XNv7u1Jx7gRb7SwxUtrtFs",authDomain:"antauth-54544.firebaseapp.com",databaseURL:"https://antauth-54544.firebaseio.com",projectId:"antauth-54544",storageBucket:"",messagingSenderId:"946742625779"}),j=o(202);function y(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function T(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?y(o,!0).forEach((function(t){Object(j.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):y(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var g={selectedTodo:null,completedTodo:null};var w={todos:g},E=Object(f.b)({firebase:h.firebaseReducer,firestore:b.firestoreReducer,todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;return"selectTodo"===t.type?T({},e,{selectedTodo:t.todo}):"completTodo"===t.type?(t.todo.isDone=!t.todo.isDone,T({},e,{completedTodo:t.todo})):e}});O.a.initializeApp(v),O.a.firestore().settings({timestampsInSnapshots:!0});var k=[Object(b.reduxFirestore)(O.a),Object(h.reactReduxFirebase)(O.a,{userProfile:"users",useFirestoreForProfile:!0})];window.devToolsExtension;var D=f.c.apply(void 0,k),C=Object(f.d)(E,w,D),x=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return Object(h.isLoaded)(this.props.auth)?Object(h.isEmpty)(this.props.auth)?r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.props.firebase.login({provider:"google",type:"popup"})}},"Log in with Google")):r.a.createElement("button",{style:{width:"20rem"},onClick:function(){return e.props.firebase.logout()}}," Logout"):r.a.createElement("span",null,"...Loading")}}]),t}(n.Component),P=Object(f.c)(Object(p.b)((function(e){return{auth:e.firebase.auth}}),{}),Object(h.firebaseConnect)())(x),S=(o(395),o(25)),F=function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(o=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={todo:""},o}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.props.uid?r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:this.state.todo,onChange:function(t){return e.setState({todo:t.target.value})}}),r.a.createElement("button",{onClick:function(){return e.addTodo()}},"Add Todo")):null}},{key:"addTodo",value:function(){this.props.firestore.add({collection:"todos"},{uid:this.props.uid,name:this.state.todo,isDone:this.props.isDone,date:this.props.date}),this.setState({todo:""})}}]),t}(n.Component),I=Object(f.c)(Object(p.b)((function(e){return{uid:e.firebase.auth.uid,isDone:!1,date:new Date}}),{}),Object(h.firestoreConnect)())(F),L=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"renderTodo",value:function(e){var t=this,o={padding:"1rem",cursor:"pointer"};return e===this.props.selectedTodo&&(o.backgroundColor="#988afe"),r.a.createElement("div",{key:e.name,style:o,onClick:function(){return t.props.selectTodo(e)}},e.name,r.a.createElement("input",{type:"checkbox",checked:e.isDone,onChange:function(){return t.props.completTodo(e)}}),e.date?r.a.createElement("span",null,"Hours: ",(S.duration(1e3*S().unix()).asHours()-S.duration(1e3*e.date.seconds).asHours()).toFixed(1),"  "):null,e.date?r.a.createElement("span",null,"Days: ",(S.duration(1e3*S().unix()).asDays()-S.duration(1e3*e.date.seconds).asDays()).toFixed()," "):null,r.a.createElement("button",{onClick:function(){return t.refreshTodos(e)}},"refresh"),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return t.delTodos(e)}},"delete")))}},{key:"render",value:function(){var e=this,t=this.props.todos.map((function(t){return e.renderTodo(t)}));return r.a.createElement("div",null,r.a.createElement("div",null,t),this.props.completedTodo?r.a.createElement("button",{onClick:function(){return e.saveTodos()}},"Save"):null,r.a.createElement(I,null),console.log(this.props.completedTodo),this.props.completedTodo?console.log(this.props.completedTodo.id):null)}},{key:"saveTodos",value:function(){this.props.firestore.collection("todos").doc(this.props.completedTodo.id).set({name:this.props.completedTodo.name,isDone:this.props.completedTodo.isDone,uid:this.props.completedTodo.uid,date:this.props.completedTodo.date?this.props.completedTodo.date:new Date})}},{key:"delTodos",value:function(e){this.props.firestore.collection("todos").doc(e.id).delete()}},{key:"refreshTodos",value:function(e){this.props.firestore.collection("todos").doc(e.id).set({date:new Date,name:e.name,isDone:e.isDone,uid:e.uid})}}]),t}(n.Component),R=Object(f.c)(Object(p.b)((function(e){return{uid:e.firebase.auth.uid,todos:e.firestore.ordered.todos?e.firestore.ordered.todos:[],selectedTodo:e.todos.selectedTodo,completedTodo:e.todos.completedTodo}}),(function(e){return{selectTodo:function(t){return e({type:"selectTodo",todo:t})},completTodo:function(t){return e({type:"completTodo",todo:t})}}})),Object(h.firestoreConnect)((function(e){return e.uid?[{collection:"todos",where:[["uid","==",e.uid]]}]:[]})))(L),A=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{store:C},r.a.createElement("div",null,r.a.createElement(P,null),r.a.createElement(R,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[203,1,2]]]);
//# sourceMappingURL=main.3f316b38.chunk.js.map